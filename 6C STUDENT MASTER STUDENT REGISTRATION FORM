//database 

CREATE TABLE tbl_studentMaster (
    RollNo INT PRIMARY KEY,
    Name VARCHAR(100) NOT NULL,
    Semester INT,
    Course VARCHAR(50)
);


//student registration and display form 
<%@ page import="java.sql.*" %>
<%@ page language="java"
    contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" %>

<!DOCTYPE html>
<html>
<head>
    <title>Student Master</title>
</head>

<body>

<h2>Student Master</h2>

<form method="post">
    Roll No:
    <input type="text" name="rollno" required><br><br>

    Name:
    <input type="text" name="name"><br><br>

    Semester:
    <input type="text" name="semester"><br><br>

    Course:
    <input type="text" name="course"><br><br>

    <input type="submit" name="action" value="Add">
    <input type="submit" name="action" value="Delete">
</form>

<hr>

<%
String action = request.getParameter("action");
Connection con = null;
PreparedStatement ps = null;
ResultSet rs = null;

try {
    Class.forName("com.mysql.jdbc.Driver");
    con = DriverManager.getConnection(
        "jdbc:mysql://localhost:3306/telephone_db", "root", "Root123");

    if ("Add".equals(action)) {
        ps = con.prepareStatement(
            "INSERT INTO tbl_studentMaster VALUES (?, ?, ?, ?)");
        ps.setInt(1, Integer.parseInt(request.getParameter("rollno")));
        ps.setString(2, request.getParameter("name"));
        ps.setInt(3, Integer.parseInt(request.getParameter("semester")));
        ps.setString(4, request.getParameter("course"));
        ps.executeUpdate();
    }

    if ("Delete".equals(action)) {
        ps = con.prepareStatement(
            "DELETE FROM tbl_studentMaster WHERE RollNo=?");
        ps.setInt(1, Integer.parseInt(request.getParameter("rollno")));
        ps.executeUpdate();
    }

    ps = con.prepareStatement("SELECT * FROM tbl_studentMaster");
    rs = ps.executeQuery();
%>

<h3>Student Records</h3>

<table border="1">
    <tr>
        <th>Roll No</th>
        <th>Name</th>
        <th>Semester</th>
        <th>Course</th>
    </tr>

<%
    while (rs.next()) {
%>
    <tr>
        <td><%= rs.getInt(1) %></td>
        <td><%= rs.getString(2) %></td>
        <td><%= rs.getInt(3) %></td>
        <td><%= rs.getString(4) %></td>
    </tr>
<%
    }
} catch (Exception e) {
    out.println(e);
} finally {
    if (rs != null) rs.close();
    if (ps != null) ps.close();
    if (con != null) con.close();
}
%>

</table>

</body>
</html>


